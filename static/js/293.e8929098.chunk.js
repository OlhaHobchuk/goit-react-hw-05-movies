"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[293],{639:function(e,t,n){n.d(t,{a:function(){return a}});var r="Loader_loaderContainer__UDDYf",o=n(691),i=n(184),a=function(){return(0,i.jsx)("div",{className:r,children:(0,i.jsx)(o.s5,{strokeColor:"blueviolet",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})}},588:function(e,t,n){n.d(t,{Hx:function(){return s},fP:function(){return a},t9:function(){return i},uV:function(){return c},wr:function(){return o}});var r="0133cbd46d7aed15aba1a7c05914842d",o=function(){return fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(r)).then((function(e){return e.json()})).then((function(e){return e.results}))},i=function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(r,"&query=").concat(e)).then((function(e){return e.json()})).then((function(e){return e.results}))},a=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(r)).then((function(e){return e.json()}))},c=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(r)).then((function(e){return e.json()})).then((function(e){return e.cast}))},s=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(r)).then((function(e){return e.json()})).then((function(e){return e.results}))}},293:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(439),o=n(791),i=n(87),a=n(686),c=n.n(a),s=n(639),u=n(588),h={input:"SearchForm_input__HOxJo",searchFormButton:"SearchForm_searchFormButton__Zv-9i"},l=n(184),f=function(e){var t=e.setSearchParams,n=(0,o.useState)(""),i=(0,r.Z)(n,2),a=i[0],s=i[1];return(0,l.jsxs)("form",{className:h.form,onSubmit:function(e){e.preventDefault();var n=a.trim().toLocaleLowerCase();if(""===n)return t({}),void c().Notify.info("Please enter something");t({query:n}),s("")},children:[(0,l.jsx)("input",{name:"word",value:a,className:h.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){s(e.currentTarget.value.toLowerCase())}}),(0,l.jsx)("button",{type:"submit",className:h.searchFormButton,children:"Search"})]})},m=n(689),v={searchMovieContainer:"SearchResults_searchMovieContainer__KJqlq",searchMovieTitle:"SearchResults_searchMovieTitle__9rzGe",searchMovieList:"SearchResults_searchMovieList__rNRXq",searchMovieLink:"SearchResults_searchMovieLink__htLAX"},d=function(e){var t=e.movies,n=(0,m.TH)();return(0,l.jsx)(l.Fragment,{children:t.length>0&&(0,l.jsxs)("div",{className:v.searchMovieContainer,children:[(0,l.jsx)("h2",{className:v.searchMovieTitle,children:"Search results"}),(0,l.jsx)("ul",{className:v.searchMovieList,children:t.map((function(e){var t=e.id,r=e.title;return(0,l.jsx)("li",{className:v.searchMovieItem,children:(0,l.jsx)(i.rU,{className:v.searchMovieLink,to:"/movies/".concat(t),state:{from:n},children:r})},t)}))})]})})},p=function(){var e,t=(0,o.useState)([]),n=(0,r.Z)(t,2),a=n[0],h=n[1],m=(0,o.useState)(!1),v=(0,r.Z)(m,2),p=v[0],_=v[1],y=(0,i.lr)(),j=(0,r.Z)(y,2),g=j[0],x=j[1],k=null!==(e=g.get("query"))&&void 0!==e?e:"";(0,o.useEffect)((function(){k&&(_(!0),(0,u.t9)(k).then((function(e){if(0!==e.length){var t=e.map((function(e){return{title:e.title,id:e.id}}));h(t)}else c().Notify.info("Sorry, there are no movies matching your search query. Please try again.")})).catch((function(e){return S(e)})).finally((function(){return _(!1)})))}),[k]);var S=function(e){c().Notify.warning("Sorry, there are no movies matching your search query. Please try again.")};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f,{setSearchParams:x}),(0,l.jsx)(d,{movies:a}),p&&(0,l.jsx)(s.a,{})]})}}}]);
//# sourceMappingURL=293.e8929098.chunk.js.map